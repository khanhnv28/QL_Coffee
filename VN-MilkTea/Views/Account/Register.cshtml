@model VN_MilkTea.ViewModel.Register

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutPage2.cshtml";
}

@section register{
        <section id="form form-login">
            <!--form-->
            <div class="container">
                <div class="row">
                    <div class="col-sm-2 col-sm-offset-1">
                        <div class="login-form">

                        </div><!--/login form-->
                    </div>

                    <div class="col-sm-6">
                        <div class="signup-form">
                            <!--sign up form-->
                            <h2>Đăng ký tài khoản mới!</h2>
                            <form action="/Account/register" method="post" onsubmit="return validateForm()">
                                <input type="text" placeholder="Tên đăng nhập" name="UserName" id="UserName" />
                                <input type="text" placeholder="Họ và tên" name="Fullname" />
                                <input type="email" placeholder="Email" name="Email" />
                                <input type="number" placeholder="Số điện thoại" name="PhoneNumber" />
                                <input type="text" placeholder="Địa chỉ" name="Address" />
                                <input type="password" placeholder="Mật khẩu" name="Password" id="Password" />
                                <input type="password" placeholder="Nhập lại mật khẩu" id="RePassword" />
                                <button type="submit" class="btn btn-default">Signup</button>
                            </form>
                            @if (ViewBag.RegistrationSuccess != null && (bool)ViewBag.RegistrationSuccess)
                            {
                                <div class="alert alert-success">
                                    Đăng ký thành công!. Mời bạn đăng nhập
                                </div>
                            }
                        </div><!--/sign up form-->
                    </div>
                </div>
            </div>
        </section><!--/form-->

    <script>
        function validateForm() {
            var password = document.getElementById("Password").value;
            var rePassword = document.getElementById("RePassword").value;
            // Kiểm tra xem mật khẩu và re-password giống nhau
            if (password !== rePassword) {
                alert("Mật khẩu và mật khẩu xác nhận phải giống nhau.");
                return false; // Ngăn form được gửi đi
            }
            // Kiểm tra xem tên người dùng và mật khẩu không có khoảng trắng
            var userName = document.getElementById("UserName").value;
            if (userName.indexOf(" ") !== -1 || password.indexOf(" ") !== -1) {
                alert("Tên người dùng và mật khẩu không được chứa khoảng trắng.");
                return false; // Ngăn form được gửi đi
            }
            return true; // Cho phép form được gửi đi
        }
    </script>
}